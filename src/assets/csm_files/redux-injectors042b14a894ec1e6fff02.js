"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkcsm_fe"] = self["webpackChunkcsm_fe"] || []).push([["redux-injectors"],{

/***/ "./node_modules/redux-injectors/dist/index.esm.js":
/*!********************************************************!*\
  !*** ./node_modules/redux-injectors/dist/index.esm.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createInjectorsEnhancer\": () => (/* binding */ createInjectorsEnhancer),\n/* harmony export */   \"forceReducerReload\": () => (/* binding */ forceReducerReload)\n/* harmony export */ });\n/* unused harmony exports SagaInjectionModes, injectReducer, injectSaga, useInjectReducer, useInjectSaga */\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! hoist-non-react-statics */ \"./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js\");\n/* harmony import */ var hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var invariant__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! invariant */ \"./node_modules/invariant/browser.js\");\n/* harmony import */ var invariant__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(invariant__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/isEmpty */ \"./node_modules/lodash/isEmpty.js\");\n/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var lodash_isFunction__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/isFunction */ \"./node_modules/lodash/isFunction.js\");\n/* harmony import */ var lodash_isFunction__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_isFunction__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var lodash_isString__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/isString */ \"./node_modules/lodash/isString.js\");\n/* harmony import */ var lodash_isString__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_isString__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var lodash_conformsTo__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/conformsTo */ \"./node_modules/lodash/conformsTo.js\");\n/* harmony import */ var lodash_conformsTo__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_conformsTo__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var lodash_isObject__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash/isObject */ \"./node_modules/lodash/isObject.js\");\n/* harmony import */ var lodash_isObject__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash_isObject__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\n\n\n\n\n\n\n/**\n * Forces a reload of the injected reducers. i.e. Causes `createReducer` to be\n * called again with the injected reducers. Useful for hot-reloading.\n *\n * @param store The redux store that has been configured with\n *                  `createInjectorsEnhancer`\n * @example\n * forceReducerReload(store);\n *\n * @public\n */\nfunction forceReducerReload(store) {\n  store.replaceReducer(store.createReducer(store.injectedReducers));\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\n/**\n * Validates the redux store is set up properly to work with this library.\n */\n\nfunction checkStore(store) {\n  var shape = {\n    dispatch: (lodash_isFunction__WEBPACK_IMPORTED_MODULE_5___default()),\n    subscribe: (lodash_isFunction__WEBPACK_IMPORTED_MODULE_5___default()),\n    getState: (lodash_isFunction__WEBPACK_IMPORTED_MODULE_5___default()),\n    replaceReducer: (lodash_isFunction__WEBPACK_IMPORTED_MODULE_5___default()),\n    runSaga: (lodash_isFunction__WEBPACK_IMPORTED_MODULE_5___default()),\n    createReducer: (lodash_isFunction__WEBPACK_IMPORTED_MODULE_5___default()),\n    injectedReducers: (lodash_isObject__WEBPACK_IMPORTED_MODULE_8___default()),\n    injectedSagas: (lodash_isObject__WEBPACK_IMPORTED_MODULE_8___default())\n  };\n  invariant__WEBPACK_IMPORTED_MODULE_3___default()(lodash_conformsTo__WEBPACK_IMPORTED_MODULE_7___default()(store, shape), '(redux-injectors...) checkStore: Expected a redux store that has been configured for use with redux-injectors.');\n}\n\nfunction injectReducerFactory(store, isValid) {\n  return function injectReducer(key, reducer) {\n    if (!isValid) checkStore(store);\n    invariant__WEBPACK_IMPORTED_MODULE_3___default()(lodash_isString__WEBPACK_IMPORTED_MODULE_6___default()(key) && !lodash_isEmpty__WEBPACK_IMPORTED_MODULE_4___default()(key) && lodash_isFunction__WEBPACK_IMPORTED_MODULE_5___default()(reducer), '(redux-injectors...) injectReducer: Expected `reducer` to be a reducer function'); // Check `store.injectedReducers[key] === reducer` for hot reloading when a key is the same but a reducer is different\n\n    if (Reflect.has(store.injectedReducers, key) && store.injectedReducers[key] === reducer) return;\n    store.injectedReducers[key] = reducer; // eslint-disable-line no-param-reassign\n\n    store.replaceReducer(store.createReducer(store.injectedReducers));\n  };\n}\nfunction getInjectors(store) {\n  checkStore(store);\n  return {\n    injectReducer: injectReducerFactory(store, true)\n  };\n}\n\n/**\n * A higher-order component that dynamically injects a reducer when the\n * component is instantiated\n *\n * @param {Object} params\n * @param {string} params.key The key to inject the reducer under\n * @param {function} params.reducer The reducer that will be injected\n *\n * @example\n *\n * class BooksManager extends React.PureComponent {\n *   render() {\n *     return null;\n *   }\n * }\n *\n * export default injectReducer({ key: \"books\", reducer: booksReducer })(BooksManager)\n *\n * @public\n */\n\nvar injectReducer = (function (_ref) {\n  var key = _ref.key,\n      reducer = _ref.reducer;\n  return function (WrappedComponent) {\n    var ReducerInjector =\n    /*#__PURE__*/\n    function (_React$Component) {\n      _inherits(ReducerInjector, _React$Component);\n\n      function ReducerInjector(props, context) {\n        var _this;\n\n        _classCallCheck(this, ReducerInjector);\n\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(ReducerInjector).call(this, props, context));\n        getInjectors(context.store).injectReducer(key, reducer);\n        return _this;\n      }\n\n      _createClass(ReducerInjector, [{\n        key: \"render\",\n        value: function render() {\n          return react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent, this.props);\n        }\n      }]);\n\n      return ReducerInjector;\n    }(react__WEBPACK_IMPORTED_MODULE_0__.Component);\n\n    _defineProperty(ReducerInjector, \"WrappedComponent\", WrappedComponent);\n\n    _defineProperty(ReducerInjector, \"contextType\", react_redux__WEBPACK_IMPORTED_MODULE_2__.ReactReduxContext);\n\n    _defineProperty(ReducerInjector, \"displayName\", \"withReducer(\".concat(WrappedComponent.displayName || WrappedComponent.name || 'Component', \")\"));\n\n    return hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_1___default()(ReducerInjector, WrappedComponent);\n  };\n});\n/**\n * A react hook that dynamically injects a reducer when the hook is run\n *\n * @param {Object} params\n * @param {string} params.key The key to inject the reducer under\n * @param {function} params.reducer The reducer that will be injected\n *\n * @example\n *\n * function BooksManager() {\n *   useInjectReducer({ key: \"books\", reducer: booksReducer })\n *\n *   return null;\n * }\n *\n * @public\n */\n\nvar useInjectReducer = function useInjectReducer(_ref2) {\n  var key = _ref2.key,\n      reducer = _ref2.reducer;\n  var store = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useStore)();\n  var isInjected = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n\n  if (!isInjected.current) {\n    getInjectors(store).injectReducer(key, reducer);\n    isInjected.current = true;\n  }\n};\n\nvar RESTART_ON_REMOUNT = '@@saga-injector/restart-on-remount';\nvar DAEMON = '@@saga-injector/daemon';\nvar ONCE_TILL_UNMOUNT = '@@saga-injector/once-till-unmount';\n/**\n * An enum of all the possible saga injection behaviours\n *\n * @property {String} RESTART_ON_REMOUNT The saga will be started on component instantiation and cancelled with\n * `task.cancel()` on component unmount for improved performance.\n * @property {String} DAEMON Causes the saga to be started on component instantiation and never canceled\n * or started again.\n * @property {String} ONCE_TILL_UNMOUNT Behaves like 'RESTART_ON_REMOUNT' but never runs it again.\n *\n * @enum\n * @public\n */\n\nvar SagaInjectionModes = {\n  RESTART_ON_REMOUNT: RESTART_ON_REMOUNT,\n  DAEMON: DAEMON,\n  ONCE_TILL_UNMOUNT: ONCE_TILL_UNMOUNT\n};\n\nvar allowedModes = [RESTART_ON_REMOUNT, DAEMON, ONCE_TILL_UNMOUNT];\n\nvar checkKey = function checkKey(key) {\n  return invariant__WEBPACK_IMPORTED_MODULE_3___default()(lodash_isString__WEBPACK_IMPORTED_MODULE_6___default()(key) && !lodash_isEmpty__WEBPACK_IMPORTED_MODULE_4___default()(key), '(redux-injectors...) injectSaga: Expected `key` to be a non empty string');\n};\n\nvar checkDescriptor = function checkDescriptor(descriptor) {\n  var shape = {\n    saga: (lodash_isFunction__WEBPACK_IMPORTED_MODULE_5___default()),\n    mode: function mode(_mode) {\n      return lodash_isString__WEBPACK_IMPORTED_MODULE_6___default()(_mode) && allowedModes.includes(_mode);\n    }\n  };\n  invariant__WEBPACK_IMPORTED_MODULE_3___default()(lodash_conformsTo__WEBPACK_IMPORTED_MODULE_7___default()(descriptor, shape), '(redux-injectors...) injectSaga: Expected a valid saga descriptor');\n};\n\nfunction injectSagaFactory(store, isValid) {\n  return function injectSaga(key) {\n    var descriptor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (!isValid) checkStore(store);\n\n    var newDescriptor = _objectSpread2({}, descriptor, {\n      mode: descriptor.mode || DAEMON\n    });\n\n    var saga = newDescriptor.saga,\n        mode = newDescriptor.mode;\n    checkKey(key);\n    checkDescriptor(newDescriptor);\n    var hasSaga = Reflect.has(store.injectedSagas, key);\n\n    if (true) {\n      var oldDescriptor = store.injectedSagas[key]; // enable hot reloading of daemon and once-till-unmount sagas\n\n      if (hasSaga && oldDescriptor.saga !== saga) {\n        oldDescriptor.task.cancel();\n        hasSaga = false;\n      }\n    }\n\n    if (!hasSaga || hasSaga && mode !== DAEMON && mode !== ONCE_TILL_UNMOUNT) {\n      /* eslint-disable no-param-reassign */\n      store.injectedSagas[key] = _objectSpread2({}, newDescriptor, {\n        task: store.runSaga(saga)\n      });\n      /* eslint-enable no-param-reassign */\n    }\n  };\n}\nfunction ejectSagaFactory(store, isValid) {\n  return function ejectSaga(key) {\n    if (!isValid) checkStore(store);\n    checkKey(key);\n\n    if (Reflect.has(store.injectedSagas, key)) {\n      var descriptor = store.injectedSagas[key];\n\n      if (descriptor.mode && descriptor.mode !== DAEMON) {\n        descriptor.task.cancel(); // Clean up in production; in development we need `descriptor.saga` for hot reloading\n\n        if (false) {}\n      }\n    }\n  };\n}\nfunction getInjectors$1(store) {\n  checkStore(store);\n  return {\n    injectSaga: injectSagaFactory(store, true),\n    ejectSaga: ejectSagaFactory(store, true)\n  };\n}\n\n/**\n * A higher-order component that dynamically injects a saga when the component\n * is instantiated. There are several possible \"modes\" / \"behaviours\" that\n * dictate how and when the saga should be injected and ejected\n *\n * @param {Object} params\n * @param {string} params.key The key to inject the saga under\n * @param {function} params.saga The saga that will be injected\n * @param {string} [params.mode] The injection behaviour to use. The default is\n * `SagaInjectionModes.DAEMON` which causes the saga to be started on component\n * instantiation and never canceled or started again. @see\n * {@link SagaInjectionModes} for the other possible modes.\n *\n * @example\n *\n * class BooksManager extends React.PureComponent {\n *  render() {\n *    return null;\n *  }\n * }\n *\n * export default injectSaga({ key: \"books\", saga: booksSaga })(BooksManager)\n *\n * @public\n *\n */\n\nvar injectSaga = (function (_ref) {\n  var key = _ref.key,\n      saga = _ref.saga,\n      mode = _ref.mode;\n  return function (WrappedComponent) {\n    var InjectSaga =\n    /*#__PURE__*/\n    function (_React$Component) {\n      _inherits(InjectSaga, _React$Component);\n\n      function InjectSaga(props, context) {\n        var _this;\n\n        _classCallCheck(this, InjectSaga);\n\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(InjectSaga).call(this, props, context));\n        _this.injectors = getInjectors$1(context.store);\n\n        _this.injectors.injectSaga(key, {\n          saga: saga,\n          mode: mode\n        });\n\n        return _this;\n      }\n\n      _createClass(InjectSaga, [{\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.injectors.ejectSaga(key);\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          return react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent, this.props);\n        }\n      }]);\n\n      return InjectSaga;\n    }(react__WEBPACK_IMPORTED_MODULE_0__.Component);\n\n    _defineProperty(InjectSaga, \"WrappedComponent\", WrappedComponent);\n\n    _defineProperty(InjectSaga, \"contextType\", react_redux__WEBPACK_IMPORTED_MODULE_2__.ReactReduxContext);\n\n    _defineProperty(InjectSaga, \"displayName\", \"withSaga(\".concat(WrappedComponent.displayName || WrappedComponent.name || 'Component', \")\"));\n\n    return hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_1___default()(InjectSaga, WrappedComponent);\n  };\n});\n/**\n * A react hook that dynamically injects a saga when the hook is run\n *\n * @param {Object} params\n * @param {string} params.key The key to inject the saga under\n * @param {function} params.saga The saga that will be injected\n * @param {string} [params.mode] The injection behaviour to use. The default is\n * `SagaInjectionModes.DAEMON` which causes the saga to be started on component\n * instantiation and never canceled or started again. @see\n * {@link SagaInjectionModes} for the other possible modes.\n *\n * @example\n *\n * function BooksManager() {\n *   useInjectSaga({ key: \"books\", saga: booksSaga })\n *\n *   return null;\n * }\n *\n * @public\n */\n\nvar useInjectSaga = function useInjectSaga(_ref2) {\n  var key = _ref2.key,\n      saga = _ref2.saga,\n      mode = _ref2.mode;\n  var store = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useStore)();\n  var isInjected = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n\n  if (!isInjected.current) {\n    getInjectors$1(store).injectSaga(key, {\n      saga: saga,\n      mode: mode\n    });\n    isInjected.current = true;\n  }\n\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {\n    return function () {\n      getInjectors$1(store).ejectSaga(key);\n    };\n  }, []);\n};\n\n/**\n * Creates a store enhancer that when applied will setup the store to allow the\n * injectors to work properly\n *\n * @param {Object} params\n * @param {function} params.runSaga A function that runs a saga. Should usually be `sagaMiddleware.run`\n * @param {function} params.createReducer A function that should create and\n * return the root reducer. It's passed the injected reducers as the first\n * parameter. These should be added to the root reducer using `combineReducer`\n * or a similar method.\n *\n * @example\n *\n * import { createStore } from \"redux\"\n * import { createInjectorsEnhancer } from \"redux-injectors\"\n *\n * function createReducer(injectedReducers = {}) {\n *  const rootReducer = combineReducers({\n *    ...injectedReducers,\n *    // other non-injected reducers can go here...\n *  });\n *\n *  return rootReducer\n * }\n * const runSaga = sagaMiddleware.run\n *\n * const store = createStore(\n *   createReducer(),\n *   initialState,\n *   createInjectorsEnhancer({\n *     createReducer,\n *     runSaga,\n *   })\n * )\n *\n * @public\n */\n\nfunction createInjectorsEnhancer(params) {\n  invariant__WEBPACK_IMPORTED_MODULE_3___default()(lodash_conformsTo__WEBPACK_IMPORTED_MODULE_7___default()(params, {\n    runSaga: (lodash_isFunction__WEBPACK_IMPORTED_MODULE_5___default()),\n    createReducer: (lodash_isFunction__WEBPACK_IMPORTED_MODULE_5___default())\n  }), '(redux-injectors...) createInjectorsEnhancer: params `runSaga` and ' + '`createReducer` are required.');\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n      return _objectSpread2({}, store, {\n        createReducer: params.createReducer,\n        runSaga: params.runSaga,\n        injectedReducers: {},\n        // Reducer registry\n        injectedSagas: {} // Saga registry\n\n      });\n    };\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVkdXgtaW5qZWN0b3JzL2Rpc3QvaW5kZXguZXNtLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwQjtBQUNpQztBQUNEO0FBQ3hCO0FBQ0c7QUFDTTtBQUNKO0FBQ0k7QUFDSjs7QUFFdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0Isc0JBQXNCO0FBQ3hDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLDBEQUFVO0FBQ3hCLGVBQWUsMERBQVU7QUFDekIsY0FBYywwREFBVTtBQUN4QixvQkFBb0IsMERB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QUNBOztBQUV1SSIsInNvdXJjZXMiOlsid2VicGFjazovL2NzbS1mZS8uL25vZGVfbW9kdWxlcy9yZWR1eC1pbmplY3RvcnMvZGlzdC9pbmRleC5lc20uanM/ZTg5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGhvaXN0Tm9uUmVhY3RTdGF0aWNzIGZyb20gJ2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzJztcbmltcG9ydCB7IFJlYWN0UmVkdXhDb250ZXh0LCB1c2VTdG9yZSB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBpbnZhcmlhbnQgZnJvbSAnaW52YXJpYW50JztcbmltcG9ydCBpc0VtcHR5IGZyb20gJ2xvZGFzaC9pc0VtcHR5JztcbmltcG9ydCBpc0Z1bmN0aW9uIGZyb20gJ2xvZGFzaC9pc0Z1bmN0aW9uJztcbmltcG9ydCBpc1N0cmluZyBmcm9tICdsb2Rhc2gvaXNTdHJpbmcnO1xuaW1wb3J0IGNvbmZvcm1zVG8gZnJvbSAnbG9kYXNoL2NvbmZvcm1zVG8nO1xuaW1wb3J0IGlzT2JqZWN0IGZyb20gJ2xvZGFzaC9pc09iamVjdCc7XG5cbi8qKlxuICogRm9yY2VzIGEgcmVsb2FkIG9mIHRoZSBpbmplY3RlZCByZWR1Y2Vycy4gaS5lLiBDYXVzZXMgYGNyZWF0ZVJlZHVjZXJgIHRvIGJlXG4gKiBjYWxsZWQgYWdhaW4gd2l0aCB0aGUgaW5qZWN0ZWQgcmVkdWNlcnMuIFVzZWZ1bCBmb3IgaG90LXJlbG9hZGluZy5cbiAqXG4gKiBAcGFyYW0gc3RvcmUgVGhlIHJlZHV4IHN0b3JlIHRoYXQgaGFzIGJlZW4gY29uZmlndXJlZCB3aXRoXG4gKiAgICAgICAgICAgICAgICAgIGBjcmVhdGVJbmplY3RvcnNFbmhhbmNlcmBcbiAqIEBleGFtcGxlXG4gKiBmb3JjZVJlZHVjZXJSZWxvYWQoc3RvcmUpO1xuICpcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gZm9yY2VSZWR1Y2VyUmVsb2FkKHN0b3JlKSB7XG4gIHN0b3JlLnJlcGxhY2VSZWR1Y2VyKHN0b3JlLmNyZWF0ZVJlZHVjZXIoc3RvcmUuaW5qZWN0ZWRSZWR1Y2VycykpO1xufVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7XG4gICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xuICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7XG4gICAgfSk7XG4gICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpO1xuICB9XG5cbiAgcmV0dXJuIGtleXM7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQyKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuXG4gICAgaWYgKGkgJSAyKSB7XG4gICAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgfVxuXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpO1xufVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7XG4gIH07XG4gIHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7XG59XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIG8uX19wcm90b19fID0gcDtcbiAgICByZXR1cm4gbztcbiAgfTtcblxuICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xufVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHtcbiAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBzZWxmO1xufVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gIGlmIChjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkge1xuICAgIHJldHVybiBjYWxsO1xuICB9XG5cbiAgcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoZSByZWR1eCBzdG9yZSBpcyBzZXQgdXAgcHJvcGVybHkgdG8gd29yayB3aXRoIHRoaXMgbGlicmFyeS5cbiAqL1xuXG5mdW5jdGlvbiBjaGVja1N0b3JlKHN0b3JlKSB7XG4gIHZhciBzaGFwZSA9IHtcbiAgICBkaXNwYXRjaDogaXNGdW5jdGlvbixcbiAgICBzdWJzY3JpYmU6IGlzRnVuY3Rpb24sXG4gICAgZ2V0U3RhdGU6IGlzRnVuY3Rpb24sXG4gICAgcmVwbGFjZVJlZHVjZXI6IGlzRnVuY3Rpb24sXG4gICAgcnVuU2FnYTogaXNGdW5jdGlvbixcbiAgICBjcmVhdGVSZWR1Y2VyOiBpc0Z1bmN0aW9uLFxuICAgIGluamVjdGVkUmVkdWNlcnM6IGlzT2JqZWN0LFxuICAgIGluamVjdGVkU2FnYXM6IGlzT2JqZWN0XG4gIH07XG4gIGludmFyaWFudChjb25mb3Jtc1RvKHN0b3JlLCBzaGFwZSksICcocmVkdXgtaW5qZWN0b3JzLi4uKSBjaGVja1N0b3JlOiBFeHBlY3RlZCBhIHJlZHV4IHN0b3JlIHRoYXQgaGFzIGJlZW4gY29uZmlndXJlZCBmb3IgdXNlIHdpdGggcmVkdXgtaW5qZWN0b3JzLicpO1xufVxuXG5mdW5jdGlvbiBpbmplY3RSZWR1Y2VyRmFjdG9yeShzdG9yZSwgaXNWYWxpZCkge1xuICByZXR1cm4gZnVuY3Rpb24gaW5qZWN0UmVkdWNlcihrZXksIHJlZHVjZXIpIHtcbiAgICBpZiAoIWlzVmFsaWQpIGNoZWNrU3RvcmUoc3RvcmUpO1xuICAgIGludmFyaWFudChpc1N0cmluZyhrZXkpICYmICFpc0VtcHR5KGtleSkgJiYgaXNGdW5jdGlvbihyZWR1Y2VyKSwgJyhyZWR1eC1pbmplY3RvcnMuLi4pIGluamVjdFJlZHVjZXI6IEV4cGVjdGVkIGByZWR1Y2VyYCB0byBiZSBhIHJlZHVjZXIgZnVuY3Rpb24nKTsgLy8gQ2hlY2sgYHN0b3JlLmluamVjdGVkUmVkdWNlcnNba2V5XSA9PT0gcmVkdWNlcmAgZm9yIGhvdCByZWxvYWRpbmcgd2hlbiBhIGtleSBpcyB0aGUgc2FtZSBidXQgYSByZWR1Y2VyIGlzIGRpZmZlcmVudFxuXG4gICAgaWYgKFJlZmxlY3QuaGFzKHN0b3JlLmluamVjdGVkUmVkdWNlcnMsIGtleSkgJiYgc3RvcmUuaW5qZWN0ZWRSZWR1Y2Vyc1trZXldID09PSByZWR1Y2VyKSByZXR1cm47XG4gICAgc3RvcmUuaW5qZWN0ZWRSZWR1Y2Vyc1trZXldID0gcmVkdWNlcjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuXG4gICAgc3RvcmUucmVwbGFjZVJlZHVjZXIoc3RvcmUuY3JlYXRlUmVkdWNlcihzdG9yZS5pbmplY3RlZFJlZHVjZXJzKSk7XG4gIH07XG59XG5mdW5jdGlvbiBnZXRJbmplY3RvcnMoc3RvcmUpIHtcbiAgY2hlY2tTdG9yZShzdG9yZSk7XG4gIHJldHVybiB7XG4gICAgaW5qZWN0UmVkdWNlcjogaW5qZWN0UmVkdWNlckZhY3Rvcnkoc3RvcmUsIHRydWUpXG4gIH07XG59XG5cbi8qKlxuICogQSBoaWdoZXItb3JkZXIgY29tcG9uZW50IHRoYXQgZHluYW1pY2FsbHkgaW5qZWN0cyBhIHJlZHVjZXIgd2hlbiB0aGVcbiAqIGNvbXBvbmVudCBpcyBpbnN0YW50aWF0ZWRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1zLmtleSBUaGUga2V5IHRvIGluamVjdCB0aGUgcmVkdWNlciB1bmRlclxuICogQHBhcmFtIHtmdW5jdGlvbn0gcGFyYW1zLnJlZHVjZXIgVGhlIHJlZHVjZXIgdGhhdCB3aWxsIGJlIGluamVjdGVkXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBjbGFzcyBCb29rc01hbmFnZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAqICAgcmVuZGVyKCkge1xuICogICAgIHJldHVybiBudWxsO1xuICogICB9XG4gKiB9XG4gKlxuICogZXhwb3J0IGRlZmF1bHQgaW5qZWN0UmVkdWNlcih7IGtleTogXCJib29rc1wiLCByZWR1Y2VyOiBib29rc1JlZHVjZXIgfSkoQm9va3NNYW5hZ2VyKVxuICpcbiAqIEBwdWJsaWNcbiAqL1xuXG52YXIgaW5qZWN0UmVkdWNlciA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIga2V5ID0gX3JlZi5rZXksXG4gICAgICByZWR1Y2VyID0gX3JlZi5yZWR1Y2VyO1xuICByZXR1cm4gZnVuY3Rpb24gKFdyYXBwZWRDb21wb25lbnQpIHtcbiAgICB2YXIgUmVkdWNlckluamVjdG9yID1cbiAgICAvKiNfX1BVUkVfXyovXG4gICAgZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICAgIF9pbmhlcml0cyhSZWR1Y2VySW5qZWN0b3IsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgICBmdW5jdGlvbiBSZWR1Y2VySW5qZWN0b3IocHJvcHMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZWR1Y2VySW5qZWN0b3IpO1xuXG4gICAgICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKFJlZHVjZXJJbmplY3RvcikuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkpO1xuICAgICAgICBnZXRJbmplY3RvcnMoY29udGV4dC5zdG9yZSkuaW5qZWN0UmVkdWNlcihrZXksIHJlZHVjZXIpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG5cbiAgICAgIF9jcmVhdGVDbGFzcyhSZWR1Y2VySW5qZWN0b3IsIFt7XG4gICAgICAgIGtleTogXCJyZW5kZXJcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChXcmFwcGVkQ29tcG9uZW50LCB0aGlzLnByb3BzKTtcbiAgICAgICAgfVxuICAgICAgfV0pO1xuXG4gICAgICByZXR1cm4gUmVkdWNlckluamVjdG9yO1xuICAgIH0oUmVhY3QuQ29tcG9uZW50KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShSZWR1Y2VySW5qZWN0b3IsIFwiV3JhcHBlZENvbXBvbmVudFwiLCBXcmFwcGVkQ29tcG9uZW50KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShSZWR1Y2VySW5qZWN0b3IsIFwiY29udGV4dFR5cGVcIiwgUmVhY3RSZWR1eENvbnRleHQpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KFJlZHVjZXJJbmplY3RvciwgXCJkaXNwbGF5TmFtZVwiLCBcIndpdGhSZWR1Y2VyKFwiLmNvbmNhdChXcmFwcGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IFdyYXBwZWRDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50JywgXCIpXCIpKTtcblxuICAgIHJldHVybiBob2lzdE5vblJlYWN0U3RhdGljcyhSZWR1Y2VySW5qZWN0b3IsIFdyYXBwZWRDb21wb25lbnQpO1xuICB9O1xufSk7XG4vKipcbiAqIEEgcmVhY3QgaG9vayB0aGF0IGR5bmFtaWNhbGx5IGluamVjdHMgYSByZWR1Y2VyIHdoZW4gdGhlIGhvb2sgaXMgcnVuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtc1xuICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcy5rZXkgVGhlIGtleSB0byBpbmplY3QgdGhlIHJlZHVjZXIgdW5kZXJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHBhcmFtcy5yZWR1Y2VyIFRoZSByZWR1Y2VyIHRoYXQgd2lsbCBiZSBpbmplY3RlZFxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gQm9va3NNYW5hZ2VyKCkge1xuICogICB1c2VJbmplY3RSZWR1Y2VyKHsga2V5OiBcImJvb2tzXCIsIHJlZHVjZXI6IGJvb2tzUmVkdWNlciB9KVxuICpcbiAqICAgcmV0dXJuIG51bGw7XG4gKiB9XG4gKlxuICogQHB1YmxpY1xuICovXG5cbnZhciB1c2VJbmplY3RSZWR1Y2VyID0gZnVuY3Rpb24gdXNlSW5qZWN0UmVkdWNlcihfcmVmMikge1xuICB2YXIga2V5ID0gX3JlZjIua2V5LFxuICAgICAgcmVkdWNlciA9IF9yZWYyLnJlZHVjZXI7XG4gIHZhciBzdG9yZSA9IHVzZVN0b3JlKCk7XG4gIHZhciBpc0luamVjdGVkID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcblxuICBpZiAoIWlzSW5qZWN0ZWQuY3VycmVudCkge1xuICAgIGdldEluamVjdG9ycyhzdG9yZSkuaW5qZWN0UmVkdWNlcihrZXksIHJlZHVjZXIpO1xuICAgIGlzSW5qZWN0ZWQuY3VycmVudCA9IHRydWU7XG4gIH1cbn07XG5cbnZhciBSRVNUQVJUX09OX1JFTU9VTlQgPSAnQEBzYWdhLWluamVjdG9yL3Jlc3RhcnQtb24tcmVtb3VudCc7XG52YXIgREFFTU9OID0gJ0BAc2FnYS1pbmplY3Rvci9kYWVtb24nO1xudmFyIE9OQ0VfVElMTF9VTk1PVU5UID0gJ0BAc2FnYS1pbmplY3Rvci9vbmNlLXRpbGwtdW5tb3VudCc7XG4vKipcbiAqIEFuIGVudW0gb2YgYWxsIHRoZSBwb3NzaWJsZSBzYWdhIGluamVjdGlvbiBiZWhhdmlvdXJzXG4gKlxuICogQHByb3BlcnR5IHtTdHJpbmd9IFJFU1RBUlRfT05fUkVNT1VOVCBUaGUgc2FnYSB3aWxsIGJlIHN0YXJ0ZWQgb24gY29tcG9uZW50IGluc3RhbnRpYXRpb24gYW5kIGNhbmNlbGxlZCB3aXRoXG4gKiBgdGFzay5jYW5jZWwoKWAgb24gY29tcG9uZW50IHVubW91bnQgZm9yIGltcHJvdmVkIHBlcmZvcm1hbmNlLlxuICogQHByb3BlcnR5IHtTdHJpbmd9IERBRU1PTiBDYXVzZXMgdGhlIHNhZ2EgdG8gYmUgc3RhcnRlZCBvbiBjb21wb25lbnQgaW5zdGFudGlhdGlvbiBhbmQgbmV2ZXIgY2FuY2VsZWRcbiAqIG9yIHN0YXJ0ZWQgYWdhaW4uXG4gKiBAcHJvcGVydHkge1N0cmluZ30gT05DRV9USUxMX1VOTU9VTlQgQmVoYXZlcyBsaWtlICdSRVNUQVJUX09OX1JFTU9VTlQnIGJ1dCBuZXZlciBydW5zIGl0IGFnYWluLlxuICpcbiAqIEBlbnVtXG4gKiBAcHVibGljXG4gKi9cblxudmFyIFNhZ2FJbmplY3Rpb25Nb2RlcyA9IHtcbiAgUkVTVEFSVF9PTl9SRU1PVU5UOiBSRVNUQVJUX09OX1JFTU9VTlQsXG4gIERBRU1PTjogREFFTU9OLFxuICBPTkNFX1RJTExfVU5NT1VOVDogT05DRV9USUxMX1VOTU9VTlRcbn07XG5cbnZhciBhbGxvd2VkTW9kZXMgPSBbUkVTVEFSVF9PTl9SRU1PVU5ULCBEQUVNT04sIE9OQ0VfVElMTF9VTk1PVU5UXTtcblxudmFyIGNoZWNrS2V5ID0gZnVuY3Rpb24gY2hlY2tLZXkoa2V5KSB7XG4gIHJldHVybiBpbnZhcmlhbnQoaXNTdHJpbmcoa2V5KSAmJiAhaXNFbXB0eShrZXkpLCAnKHJlZHV4LWluamVjdG9ycy4uLikgaW5qZWN0U2FnYTogRXhwZWN0ZWQgYGtleWAgdG8gYmUgYSBub24gZW1wdHkgc3RyaW5nJyk7XG59O1xuXG52YXIgY2hlY2tEZXNjcmlwdG9yID0gZnVuY3Rpb24gY2hlY2tEZXNjcmlwdG9yKGRlc2NyaXB0b3IpIHtcbiAgdmFyIHNoYXBlID0ge1xuICAgIHNhZ2E6IGlzRnVuY3Rpb24sXG4gICAgbW9kZTogZnVuY3Rpb24gbW9kZShfbW9kZSkge1xuICAgICAgcmV0dXJuIGlzU3RyaW5nKF9tb2RlKSAmJiBhbGxvd2VkTW9kZXMuaW5jbHVkZXMoX21vZGUpO1xuICAgIH1cbiAgfTtcbiAgaW52YXJpYW50KGNvbmZvcm1zVG8oZGVzY3JpcHRvciwgc2hhcGUpLCAnKHJlZHV4LWluamVjdG9ycy4uLikgaW5qZWN0U2FnYTogRXhwZWN0ZWQgYSB2YWxpZCBzYWdhIGRlc2NyaXB0b3InKTtcbn07XG5cbmZ1bmN0aW9uIGluamVjdFNhZ2FGYWN0b3J5KHN0b3JlLCBpc1ZhbGlkKSB7XG4gIHJldHVybiBmdW5jdGlvbiBpbmplY3RTYWdhKGtleSkge1xuICAgIHZhciBkZXNjcmlwdG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBpZiAoIWlzVmFsaWQpIGNoZWNrU3RvcmUoc3RvcmUpO1xuXG4gICAgdmFyIG5ld0Rlc2NyaXB0b3IgPSBfb2JqZWN0U3ByZWFkMih7fSwgZGVzY3JpcHRvciwge1xuICAgICAgbW9kZTogZGVzY3JpcHRvci5tb2RlIHx8IERBRU1PTlxuICAgIH0pO1xuXG4gICAgdmFyIHNhZ2EgPSBuZXdEZXNjcmlwdG9yLnNhZ2EsXG4gICAgICAgIG1vZGUgPSBuZXdEZXNjcmlwdG9yLm1vZGU7XG4gICAgY2hlY2tLZXkoa2V5KTtcbiAgICBjaGVja0Rlc2NyaXB0b3IobmV3RGVzY3JpcHRvcik7XG4gICAgdmFyIGhhc1NhZ2EgPSBSZWZsZWN0LmhhcyhzdG9yZS5pbmplY3RlZFNhZ2FzLCBrZXkpO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciBvbGREZXNjcmlwdG9yID0gc3RvcmUuaW5qZWN0ZWRTYWdhc1trZXldOyAvLyBlbmFibGUgaG90IHJlbG9hZGluZyBvZiBkYWVtb24gYW5kIG9uY2UtdGlsbC11bm1vdW50IHNhZ2FzXG5cbiAgICAgIGlmIChoYXNTYWdhICYmIG9sZERlc2NyaXB0b3Iuc2FnYSAhPT0gc2FnYSkge1xuICAgICAgICBvbGREZXNjcmlwdG9yLnRhc2suY2FuY2VsKCk7XG4gICAgICAgIGhhc1NhZ2EgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWhhc1NhZ2EgfHwgaGFzU2FnYSAmJiBtb2RlICE9PSBEQUVNT04gJiYgbW9kZSAhPT0gT05DRV9USUxMX1VOTU9VTlQpIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG4gICAgICBzdG9yZS5pbmplY3RlZFNhZ2FzW2tleV0gPSBfb2JqZWN0U3ByZWFkMih7fSwgbmV3RGVzY3JpcHRvciwge1xuICAgICAgICB0YXNrOiBzdG9yZS5ydW5TYWdhKHNhZ2EpXG4gICAgICB9KTtcbiAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBlamVjdFNhZ2FGYWN0b3J5KHN0b3JlLCBpc1ZhbGlkKSB7XG4gIHJldHVybiBmdW5jdGlvbiBlamVjdFNhZ2Eoa2V5KSB7XG4gICAgaWYgKCFpc1ZhbGlkKSBjaGVja1N0b3JlKHN0b3JlKTtcbiAgICBjaGVja0tleShrZXkpO1xuXG4gICAgaWYgKFJlZmxlY3QuaGFzKHN0b3JlLmluamVjdGVkU2FnYXMsIGtleSkpIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gc3RvcmUuaW5qZWN0ZWRTYWdhc1trZXldO1xuXG4gICAgICBpZiAoZGVzY3JpcHRvci5tb2RlICYmIGRlc2NyaXB0b3IubW9kZSAhPT0gREFFTU9OKSB7XG4gICAgICAgIGRlc2NyaXB0b3IudGFzay5jYW5jZWwoKTsgLy8gQ2xlYW4gdXAgaW4gcHJvZHVjdGlvbjsgaW4gZGV2ZWxvcG1lbnQgd2UgbmVlZCBgZGVzY3JpcHRvci5zYWdhYCBmb3IgaG90IHJlbG9hZGluZ1xuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgLy8gTmVlZCBzb21lIHZhbHVlIHRvIGJlIGFibGUgdG8gZGV0ZWN0IGBPTkNFX1RJTExfVU5NT1VOVGAgc2FnYXMgaW4gYGluamVjdFNhZ2FgXG4gICAgICAgICAgc3RvcmUuaW5qZWN0ZWRTYWdhc1trZXldID0gJ2RvbmUnOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBnZXRJbmplY3RvcnMkMShzdG9yZSkge1xuICBjaGVja1N0b3JlKHN0b3JlKTtcbiAgcmV0dXJuIHtcbiAgICBpbmplY3RTYWdhOiBpbmplY3RTYWdhRmFjdG9yeShzdG9yZSwgdHJ1ZSksXG4gICAgZWplY3RTYWdhOiBlamVjdFNhZ2FGYWN0b3J5KHN0b3JlLCB0cnVlKVxuICB9O1xufVxuXG4vKipcbiAqIEEgaGlnaGVyLW9yZGVyIGNvbXBvbmVudCB0aGF0IGR5bmFtaWNhbGx5IGluamVjdHMgYSBzYWdhIHdoZW4gdGhlIGNvbXBvbmVudFxuICogaXMgaW5zdGFudGlhdGVkLiBUaGVyZSBhcmUgc2V2ZXJhbCBwb3NzaWJsZSBcIm1vZGVzXCIgLyBcImJlaGF2aW91cnNcIiB0aGF0XG4gKiBkaWN0YXRlIGhvdyBhbmQgd2hlbiB0aGUgc2FnYSBzaG91bGQgYmUgaW5qZWN0ZWQgYW5kIGVqZWN0ZWRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1zLmtleSBUaGUga2V5IHRvIGluamVjdCB0aGUgc2FnYSB1bmRlclxuICogQHBhcmFtIHtmdW5jdGlvbn0gcGFyYW1zLnNhZ2EgVGhlIHNhZ2EgdGhhdCB3aWxsIGJlIGluamVjdGVkXG4gKiBAcGFyYW0ge3N0cmluZ30gW3BhcmFtcy5tb2RlXSBUaGUgaW5qZWN0aW9uIGJlaGF2aW91ciB0byB1c2UuIFRoZSBkZWZhdWx0IGlzXG4gKiBgU2FnYUluamVjdGlvbk1vZGVzLkRBRU1PTmAgd2hpY2ggY2F1c2VzIHRoZSBzYWdhIHRvIGJlIHN0YXJ0ZWQgb24gY29tcG9uZW50XG4gKiBpbnN0YW50aWF0aW9uIGFuZCBuZXZlciBjYW5jZWxlZCBvciBzdGFydGVkIGFnYWluLiBAc2VlXG4gKiB7QGxpbmsgU2FnYUluamVjdGlvbk1vZGVzfSBmb3IgdGhlIG90aGVyIHBvc3NpYmxlIG1vZGVzLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogY2xhc3MgQm9va3NNYW5hZ2VyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gKiAgcmVuZGVyKCkge1xuICogICAgcmV0dXJuIG51bGw7XG4gKiAgfVxuICogfVxuICpcbiAqIGV4cG9ydCBkZWZhdWx0IGluamVjdFNhZ2EoeyBrZXk6IFwiYm9va3NcIiwgc2FnYTogYm9va3NTYWdhIH0pKEJvb2tzTWFuYWdlcilcbiAqXG4gKiBAcHVibGljXG4gKlxuICovXG5cbnZhciBpbmplY3RTYWdhID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBrZXkgPSBfcmVmLmtleSxcbiAgICAgIHNhZ2EgPSBfcmVmLnNhZ2EsXG4gICAgICBtb2RlID0gX3JlZi5tb2RlO1xuICByZXR1cm4gZnVuY3Rpb24gKFdyYXBwZWRDb21wb25lbnQpIHtcbiAgICB2YXIgSW5qZWN0U2FnYSA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgICBfaW5oZXJpdHMoSW5qZWN0U2FnYSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICAgIGZ1bmN0aW9uIEluamVjdFNhZ2EocHJvcHMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbmplY3RTYWdhKTtcblxuICAgICAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihJbmplY3RTYWdhKS5jYWxsKHRoaXMsIHByb3BzLCBjb250ZXh0KSk7XG4gICAgICAgIF90aGlzLmluamVjdG9ycyA9IGdldEluamVjdG9ycyQxKGNvbnRleHQuc3RvcmUpO1xuXG4gICAgICAgIF90aGlzLmluamVjdG9ycy5pbmplY3RTYWdhKGtleSwge1xuICAgICAgICAgIHNhZ2E6IHNhZ2EsXG4gICAgICAgICAgbW9kZTogbW9kZVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG5cbiAgICAgIF9jcmVhdGVDbGFzcyhJbmplY3RTYWdhLCBbe1xuICAgICAgICBrZXk6IFwiY29tcG9uZW50V2lsbFVubW91bnRcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICAgIHRoaXMuaW5qZWN0b3JzLmVqZWN0U2FnYShrZXkpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogXCJyZW5kZXJcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChXcmFwcGVkQ29tcG9uZW50LCB0aGlzLnByb3BzKTtcbiAgICAgICAgfVxuICAgICAgfV0pO1xuXG4gICAgICByZXR1cm4gSW5qZWN0U2FnYTtcbiAgICB9KFJlYWN0LkNvbXBvbmVudCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoSW5qZWN0U2FnYSwgXCJXcmFwcGVkQ29tcG9uZW50XCIsIFdyYXBwZWRDb21wb25lbnQpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KEluamVjdFNhZ2EsIFwiY29udGV4dFR5cGVcIiwgUmVhY3RSZWR1eENvbnRleHQpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KEluamVjdFNhZ2EsIFwiZGlzcGxheU5hbWVcIiwgXCJ3aXRoU2FnYShcIi5jb25jYXQoV3JhcHBlZENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBXcmFwcGVkQ29tcG9uZW50Lm5hbWUgfHwgJ0NvbXBvbmVudCcsIFwiKVwiKSk7XG5cbiAgICByZXR1cm4gaG9pc3ROb25SZWFjdFN0YXRpY3MoSW5qZWN0U2FnYSwgV3JhcHBlZENvbXBvbmVudCk7XG4gIH07XG59KTtcbi8qKlxuICogQSByZWFjdCBob29rIHRoYXQgZHluYW1pY2FsbHkgaW5qZWN0cyBhIHNhZ2Egd2hlbiB0aGUgaG9vayBpcyBydW5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1zLmtleSBUaGUga2V5IHRvIGluamVjdCB0aGUgc2FnYSB1bmRlclxuICogQHBhcmFtIHtmdW5jdGlvbn0gcGFyYW1zLnNhZ2EgVGhlIHNhZ2EgdGhhdCB3aWxsIGJlIGluamVjdGVkXG4gKiBAcGFyYW0ge3N0cmluZ30gW3BhcmFtcy5tb2RlXSBUaGUgaW5qZWN0aW9uIGJlaGF2aW91ciB0byB1c2UuIFRoZSBkZWZhdWx0IGlzXG4gKiBgU2FnYUluamVjdGlvbk1vZGVzLkRBRU1PTmAgd2hpY2ggY2F1c2VzIHRoZSBzYWdhIHRvIGJlIHN0YXJ0ZWQgb24gY29tcG9uZW50XG4gKiBpbnN0YW50aWF0aW9uIGFuZCBuZXZlciBjYW5jZWxlZCBvciBzdGFydGVkIGFnYWluLiBAc2VlXG4gKiB7QGxpbmsgU2FnYUluamVjdGlvbk1vZGVzfSBmb3IgdGhlIG90aGVyIHBvc3NpYmxlIG1vZGVzLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gQm9va3NNYW5hZ2VyKCkge1xuICogICB1c2VJbmplY3RTYWdhKHsga2V5OiBcImJvb2tzXCIsIHNhZ2E6IGJvb2tzU2FnYSB9KVxuICpcbiAqICAgcmV0dXJuIG51bGw7XG4gKiB9XG4gKlxuICogQHB1YmxpY1xuICovXG5cbnZhciB1c2VJbmplY3RTYWdhID0gZnVuY3Rpb24gdXNlSW5qZWN0U2FnYShfcmVmMikge1xuICB2YXIga2V5ID0gX3JlZjIua2V5LFxuICAgICAgc2FnYSA9IF9yZWYyLnNhZ2EsXG4gICAgICBtb2RlID0gX3JlZjIubW9kZTtcbiAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTtcbiAgdmFyIGlzSW5qZWN0ZWQgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuXG4gIGlmICghaXNJbmplY3RlZC5jdXJyZW50KSB7XG4gICAgZ2V0SW5qZWN0b3JzJDEoc3RvcmUpLmluamVjdFNhZ2Eoa2V5LCB7XG4gICAgICBzYWdhOiBzYWdhLFxuICAgICAgbW9kZTogbW9kZVxuICAgIH0pO1xuICAgIGlzSW5qZWN0ZWQuY3VycmVudCA9IHRydWU7XG4gIH1cblxuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBnZXRJbmplY3RvcnMkMShzdG9yZSkuZWplY3RTYWdhKGtleSk7XG4gICAgfTtcbiAgfSwgW10pO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RvcmUgZW5oYW5jZXIgdGhhdCB3aGVuIGFwcGxpZWQgd2lsbCBzZXR1cCB0aGUgc3RvcmUgdG8gYWxsb3cgdGhlXG4gKiBpbmplY3RvcnMgdG8gd29yayBwcm9wZXJseVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHBhcmFtcy5ydW5TYWdhIEEgZnVuY3Rpb24gdGhhdCBydW5zIGEgc2FnYS4gU2hvdWxkIHVzdWFsbHkgYmUgYHNhZ2FNaWRkbGV3YXJlLnJ1bmBcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHBhcmFtcy5jcmVhdGVSZWR1Y2VyIEEgZnVuY3Rpb24gdGhhdCBzaG91bGQgY3JlYXRlIGFuZFxuICogcmV0dXJuIHRoZSByb290IHJlZHVjZXIuIEl0J3MgcGFzc2VkIHRoZSBpbmplY3RlZCByZWR1Y2VycyBhcyB0aGUgZmlyc3RcbiAqIHBhcmFtZXRlci4gVGhlc2Ugc2hvdWxkIGJlIGFkZGVkIHRvIHRoZSByb290IHJlZHVjZXIgdXNpbmcgYGNvbWJpbmVSZWR1Y2VyYFxuICogb3IgYSBzaW1pbGFyIG1ldGhvZC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGltcG9ydCB7IGNyZWF0ZVN0b3JlIH0gZnJvbSBcInJlZHV4XCJcbiAqIGltcG9ydCB7IGNyZWF0ZUluamVjdG9yc0VuaGFuY2VyIH0gZnJvbSBcInJlZHV4LWluamVjdG9yc1wiXG4gKlxuICogZnVuY3Rpb24gY3JlYXRlUmVkdWNlcihpbmplY3RlZFJlZHVjZXJzID0ge30pIHtcbiAqICBjb25zdCByb290UmVkdWNlciA9IGNvbWJpbmVSZWR1Y2Vycyh7XG4gKiAgICAuLi5pbmplY3RlZFJlZHVjZXJzLFxuICogICAgLy8gb3RoZXIgbm9uLWluamVjdGVkIHJlZHVjZXJzIGNhbiBnbyBoZXJlLi4uXG4gKiAgfSk7XG4gKlxuICogIHJldHVybiByb290UmVkdWNlclxuICogfVxuICogY29uc3QgcnVuU2FnYSA9IHNhZ2FNaWRkbGV3YXJlLnJ1blxuICpcbiAqIGNvbnN0IHN0b3JlID0gY3JlYXRlU3RvcmUoXG4gKiAgIGNyZWF0ZVJlZHVjZXIoKSxcbiAqICAgaW5pdGlhbFN0YXRlLFxuICogICBjcmVhdGVJbmplY3RvcnNFbmhhbmNlcih7XG4gKiAgICAgY3JlYXRlUmVkdWNlcixcbiAqICAgICBydW5TYWdhLFxuICogICB9KVxuICogKVxuICpcbiAqIEBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVJbmplY3RvcnNFbmhhbmNlcihwYXJhbXMpIHtcbiAgaW52YXJpYW50KGNvbmZvcm1zVG8ocGFyYW1zLCB7XG4gICAgcnVuU2FnYTogaXNGdW5jdGlvbixcbiAgICBjcmVhdGVSZWR1Y2VyOiBpc0Z1bmN0aW9uXG4gIH0pLCAnKHJlZHV4LWluamVjdG9ycy4uLikgY3JlYXRlSW5qZWN0b3JzRW5oYW5jZXI6IHBhcmFtcyBgcnVuU2FnYWAgYW5kICcgKyAnYGNyZWF0ZVJlZHVjZXJgIGFyZSByZXF1aXJlZC4nKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChjcmVhdGVTdG9yZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3RvcmUgPSBjcmVhdGVTdG9yZS5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZDIoe30sIHN0b3JlLCB7XG4gICAgICAgIGNyZWF0ZVJlZHVjZXI6IHBhcmFtcy5jcmVhdGVSZWR1Y2VyLFxuICAgICAgICBydW5TYWdhOiBwYXJhbXMucnVuU2FnYSxcbiAgICAgICAgaW5qZWN0ZWRSZWR1Y2Vyczoge30sXG4gICAgICAgIC8vIFJlZHVjZXIgcmVnaXN0cnlcbiAgICAgICAgaW5qZWN0ZWRTYWdhczoge30gLy8gU2FnYSByZWdpc3RyeVxuXG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xufVxuXG5leHBvcnQgeyBTYWdhSW5qZWN0aW9uTW9kZXMsIGNyZWF0ZUluamVjdG9yc0VuaGFuY2VyLCBmb3JjZVJlZHVjZXJSZWxvYWQsIGluamVjdFJlZHVjZXIsIGluamVjdFNhZ2EsIHVzZUluamVjdFJlZHVjZXIsIHVzZUluamVjdFNhZ2EgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/redux-injectors/dist/index.esm.js\n");

/***/ })

}]);